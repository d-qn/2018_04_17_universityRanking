/*!
* Bootstrap v3.3.7 (http://getbootstrap.com)
* Copyright 2011-2016 Twitter, Inc.
* Licensed under the MIT license
*/if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);;(function($){Drupal.behaviors.topuni={attach:function(context){if(Drupal.behaviors.topuni.readCookie('STYXKEY-mt-stud-lvl')!==null||Drupal.behaviors.topuni.readCookie('STYXKEY-mt-subj-int')!==null||Drupal.behaviors.topuni.readCookie('STYXKEY-mt-stud-dest')!==null){Drupal.behaviors.topuni.eraseCookie('STYXKEY-firsttime_popup');$(window).bind('load',function(){$('#magical-modal-link a').click();});}
$('#user-register-form',context).once('disableSubmitButton',function(){var $form=$(this);$form.submit(function(e){if(!e.isPropagationStopped()){$('input.form-submit',$(this)).attr('disabled','disabled');return true;}});});var wdth=$(window).width();$('html').addClass(navigator.platform);if(window.googletag&&googletag.pubadsReady){var ga_tag=googletag.pubads();$('#views-exposed-form-publication-listing-block .views-exposed-form .bef-select-as-links a').click(function(){setTimeout(function(){ga_tag.refresh([googletag.slots.site_wide_728_x_90]);},550);});$('.pane-qa-forum-listing .form-type-bef-link a').click(function(event){setTimeout(function(){ga_tag.refresh([googletag.slots.site_wide_728_x_90_2]);},1200);});$('.view-publication-listing .pager-load-more .pager-next a').on('click',function(){setTimeout(function(){p=$(".content-ad").detach();p.insertBefore($('.pub-content-box.even.1:last'));ga_tag.refresh([googletag.slots.site_wide_728_x_90]);},1200);});}
$('body.logged-in').once('topuni',function(){if(Drupal.behaviors.topuni.readCookie('STYXKEY-scroll')!==null&&Drupal.behaviors.topuni.readCookie('STYXKEY-compare-selection')==null){$(window).scrollTop(Drupal.behaviors.topuni.readCookie('STYXKEY-scroll')-90);Drupal.behaviors.topuni.createCookie('STYXKEY-scroll',null,1/86400);}});jcf.setOptions('Select',{wrapNative:false,wrapNativeOnMobile:false,maxVisibleItems:8,fakeDropInBody:false,useCustomScroll:true});jcf.replaceAll();jcf.destroy('.match input, .no-jcf');var os=navigator.platform.split(' ');if(os[0]=='iPhone'||os[0]=='Linux'||os[0]=='iPad'){if(wdth<1100&&wdth>767){jcf.destroy('.page-node-register-full #edit-what-subjects');jcf.destroy('#qs-event-reg-form select');jcf.replace('.page-node-register #edit-country-code');}
if(wdth<768){jcf.destroy('.page-node-register select');jcf.replace('.page-node-register #edit-country-code');}}
if($('.alert-success .krumo-root').length){$('#messages').addClass('debug-msg');}else{if(Drupal.behaviors.topuni.readCookie('STYXKEY-firsttime_popup')!==null){$('.alert-success').fadeIn('slow').delay(10000).fadeOut('slow',function(){$(this).remove();});}else{$('.logged-in .alert-success').fadeOut();$('.ctools-modal-dialog-ftime button.close, #edit-submit-bot, #modalContent').click(function(event){$('.alert-success').delay(500).fadeIn('slow').delay(10000).fadeOut('slow',function(){$(this).remove();});Drupal.behaviors.topuni.createCookie('STYXKEY-firsttime_popup','viewed',365);});}}
$('body.logged-in.front .welcome-text-default').text('Welcome back to TopUniversities!');if(!Drupal.behaviors.topuni.readCookie('STYXKEY_first_visit')){$('body.front').addClass('big-header');$('.welcome-text-first').removeClass('hide');$('.welcome-text-default').addClass('hide');}else{$('body.front').addClass('small-header');}
$('.front_header').removeClass('hide');Drupal.behaviors.topuni.createCookie('STYXKEY_first_visit','yes',365);if($('.page-qs-stars-home').length>0){var country=rat='';$('.page-qs-stars-home #filter-country').change(function(e){country=$(this).val();updatelink();});$('.page-qs-stars-home #filter-rating').change(function(e){rat=$(this).val();updatelink();});function updatelink(){var href='/qs-stars#country='+country+'+rating='+rat;$('.page-qs-stars-home a.star-rating').attr('href',href);}}
var bgimg=$('.field-event-lead-image').text().trim(),bggimg=$('.field-guide-cover-image').text().trim();var bgcolor=$('.field-background-colour').text().trim();$('.section-events .lead_image.panel-panel, .sub-section .lead_image.panel-panel').css({'background-image':'url('+bgimg+')','background-color':bgcolor});$('.node-type-guide .lead_image.panel-panel, .page-node-thank-you .lead_image.panel-panel').css('background-image','url('+bggimg+')');if($('.universities-search.page-universities').length==0){var last=null;$('#program-replace select[multiple="multiple"], #country-replace select[multiple="multiple"]').change(function(event){if($(this).val()){if($(this).val().length==4){$(this).val(last);alert('you can select up to 3 options');$('body > .jcf-select-drop').remove();jcf.refreshAll();}else{last=$(this).val();}}});}
$('.page-subject-rankings-2016 #subjects, .page-new-rankings #subjects, #regions-dd-wrap #region-select').change(function(e){window.location=$(this).val();});var title=$('.page-rankings-compare .rank-dis').attr('title'),dtext='Use the table below to compare your choices of up to four universities that are featured in the '+title;$('.page-rankings-compare .hero .block .des',context).html('Use the table below to compare your choices of up to four universities that are featured in the <b>'+title+'</b>');$('.page-rankings-compare #hero .title-meth').text('Compare');var xchar=dtext.length;switch(true){case(xchar<'121'):$('.page-rankings-compare .hero .block .des').addClass('char-120');break;case(xchar<'131'):$('.page-rankings-compare .hero .block .des').addClass('char-130');break;case(xchar<'141'):$('.page-rankings-compare .hero .block .des').addClass('char-140');break;case(xchar<'151'):$('.page-rankings-compare .hero .block .des').addClass('char-150');break;case(xchar<'161'):$('.page-rankings-compare .hero .block .des').addClass('char-160');break;case(xchar<'171'):$('.page-rankings-compare .hero .block .des').addClass('char-170');break;case(xchar<'181'):$('.page-rankings-compare .hero .block .des').addClass('char-180');break;case(xchar<'191'):$('.page-rankings-compare .hero .block .des').addClass('char-190');break;case(xchar>'190'):$('.page-rankings-compare .hero .block .des').addClass('char-200');break;}
if(wdth<641){var set=$('.rank-dis').attr('title');$('.mobile-desc',context).html('Use the table below to compare two universities that are featured in the <b>'+set+'</b>');$('#block-block-61 .forum-header .des').html('Got questions about studying abroad? <br>Get advice from students and experts now!');readLess($('.header-wur .detail-desc-with-image'),60);if($('body.collapsible-header',context)){$('.use-rankings-table .detail-desc').after().append('<div class="read_more-mob">Read more</div>');$('.use-rankings-table .options-list').addClass('hide');$('.read_more-mob').click(function(){$(this).remove();$('.use-rankings-table .options-list').removeClass('hide');});$('.use-rankings-table .cta-wur > a').text('See the full results now!');$('.previous-year-result .views-row-1 .rank-img img').attr('src','/sites/all/themes/topuni/assets/images/rankings/wur-year-result-2016-mb.png');$('.page-top-50-under-50 .previous-year-result .views-row-1 .rank-img img').attr('src','/sites/all/themes/topuni/assets/images/rankings/top50-year-result-2017-mb.jpg');}
$('.university-subject-rankings.2017 .pane-node-field-release-description .des-text').html($('.view-subject-rankings-collapsible-header .views-row-1').html());readLess($('body:not(".y2018") .field-release-description p'),70);readLess($('.university-subject-rankings.y2018 .field-release-description'),70);readLess($('.pane-node-field-release-description .des-text'),70);}
$('body').once(function(){($('.duration .duration-text').text().length>70)?readLess($('.duration .duration-text'),40):'';($('.duration .date-text ').text().length>70)?readLess($('.duration .date-text '),40):'';($('.fees .fee-text').text().length>70)?readLess($('.fees .fee-text'),40):'';});readLess($('.subj-region-ranking-page .pane-description-text'),45);$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list').each(function(index){var h4=$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list:eq('+index+') h4').text().toLowerCase().split(' ').join('-');$('.view-events-tour-dates-near-you.view-display-id-block_1 .view-content .item-list:eq('+index+')').addClass(h4);});if($('body').is('.node-type-blog-post, .node-type-article, .page-comment-reply, .node-type-q-a-forum')){$('.pane-node-comment-form .comment-section .form-type-textarea textarea').val('');$('.indented').removeClass('no-border');if($('.comment-form').parent().closest('.indented').children('div.comment').length==0){$('.comment-form').parent().closest('.indented').addClass('no-border');}
if(wdth<768){$('.pane-node-comment-form .comment-section .form-type-textarea textarea').attr('placeholder','Add a comment');$('.pane-node-comment-form .comment-section .form-actions input[type="submit"].post').val('Post');}}
if($('#qs-social-save-form #ranking_compare_save input').hasClass('compare-saved')){$('#qs-social-save-form').addClass('compare-saved');$('#qs-social-save-form--2').addClass('compare-saved');$('#qs-social-save-form--2 input, #qs-social-save-form input').attr('disabled',true);}
$('body.page-rankings-compare .pane-qs-social-share-qs-social-share .article-save-flag form').click(function(){$('#qs-social-save-form input.form-submit').click();$('#qs-social-save-form--2 input, #qs-social-save-form input').attr('disabled',true);$('#qs-social-save-form--2 input').val('Saved');});$('body.page-rankings-compare .pane-qs-social-share-qs-social-share .article-save-flag form input').click(function(){$('#qs-social-save-form--2 input').val('Saved');});if(wdth<768){$('.sec-main.gr-v li .pr-summary').dotdotdot({height:38,wrap:'letter'});$('.field-home-bespoke-abstract p').dotdotdot({height:40,wrap:'letter'});$("#block-panels-mini-footer-mba-resources .panel-flexible-inside").accordion({header:".menu li.expanded .menu-title",heightStyle:"content",collapsible:true,active:false});$('body').once(function(){($('.duration .duration-text').text().length>70)?readLess($('.duration .duration-text'),40):'';($('.duration .date-text ').text().length>70)?readLess($('.duration .date-text '),40):'';($('.fees .fee-text').text().length>70)?readLess($('.fees .fee-text'),40):'';readLess($('.pane-node-field-event-body .field-event-body'),85);$(".section-events .why-attend-field-collection h4.pane-title").click(function(){$(".pane-event-agenda .view-event-agenda .attachment").next('.view-content').slideUp("slow");$(".pane-node-field-contact-admissions-faq .pane-content").slideUp("slow");$(".pane-event-agenda .view-event-agenda .views-row-first h4.pane-title, .pane-node-field-contact-admissions-faq h4.pane-title").removeClass('ui-state-active');$(this).toggleClass('ui-state-active');$(".section-events .why-attend-field-collection .pane-content").slideToggle("slow");$('html:not(:animated), body:not(:animated)').animate({scrollTop:$('.why-attend-field-collection').offset().top-50},500);});$(".pane-event-agenda .view-event-agenda .views-row-first h4.pane-title").click(function(){$(".pane-node-field-contact-admissions-faq .pane-content, .section-events .why-attend-field-collection .pane-content").slideUp("slow");$(".section-events .why-attend-field-collection h4.pane-title, .pane-node-field-contact-admissions-faq h4.pane-title").removeClass('ui-state-active');$(this).toggleClass('ui-state-active');$(".pane-event-agenda .view-event-agenda .attachment").next('.view-content').slideToggle("slow");$('html:not(:animated), body:not(:animated)').animate({scrollTop:$('.why-attend-field-collection').offset().top},500);});$(".pane-node-field-contact-admissions-faq h4.pane-title").click(function(){$(".pane-event-agenda .view-event-agenda .attachment").next('.view-content').slideUp("slow");$(".section-events .why-attend-field-collection .pane-content").slideUp("slow");$(".section-events .why-attend-field-collection h4.pane-title, .pane-event-agenda .view-event-agenda .views-row-first h4.pane-title").removeClass('ui-state-active');$(this).toggleClass('ui-state-active');$(".pane-node-field-contact-admissions-faq .pane-content").slideToggle("slow");$('html:not(:animated), body:not(:animated)').animate({scrollTop:$('.why-attend-field-collection').offset().top+80},500);});$(".pane-taxonomy-term-field-contact-admissions-faq h4.pane-title").click(function(){$(".pane-event-agenda .view-event-agenda .attachment").next('.view-content').slideUp("slow");$(".section-events .why-attend-field-collection .pane-content").slideUp("slow");$(".section-events .why-attend-field-collection h4.pane-title, .pane-event-agenda .view-event-agenda .views-row-first h4.pane-title").removeClass('ui-state-active');$(this).toggleClass('ui-state-active');$(".pane-taxonomy-term-field-contact-admissions-faq .pane-content:eq(1)").slideToggle("slow");$('html:not(:animated), body:not(:animated)').animate({scrollTop:$('.why-attend-field-collection').offset().top},500);});});if($('body').is('.page-top-50-under-50')){var dfp_mob_mpu=$('.pane-dfp-site-wide-mobile-no-mpu').html();$('.pane-dfp-site-wide-mobile-no-mpu').remove();$('.pane-custom .dfp-ad').append(dfp_mob_mpu);}
$('.front .pane-panels-mini .content-in').each(function(){$(this).find('.pane-fieldable-panels-pane').each(function(i){if(i>3){$(this).hide();}});$(this).find('.field-home-read-more a').text('More');$(this).find('.field-home-read-more').prepend('<span>Latest news / releases</span>');$(this).find('.colm-1 .top').append($(this).find('.field-home-read-more').clone());});}else{setTimeout(function(){$('.field-home-bespoke-abstract p').dotdotdot({height:60,wrap:'letter'});$('.home-content-footer .box-title a').dotdotdot({height:40,wrap:'letter'});$('.content-in .box-title a').dotdotdot({height:42,wrap:'letter'});},400);$('[data-toggle="popover"]').each(function(){$(this).hover(function(){$(this).popover('show');},function(){$(this).popover('hide');});});if($('body').is('.front')&&Drupal.behaviors.topuni.readCookie('home-search-bar')!=1){$('#header .nav-search').removeClass('hidden');$('.nav_search_btn').addClass('on');}
var textAreas=[].slice.call(document.querySelectorAll('.page-qa-forum textarea[name="comment_body[und][0][value]"]'));textAreas.forEach(function(el){el.style.boxSizing=el.style.mozBoxSizing='border-box';el.style.overflowY='hidden';var minHeight=el.scrollHeight;el.addEventListener('input',function(){autohg(el,minHeight);});autohg(el,minHeight);});}
$('.node-type-article .pane-most-commented-articles .views-field-title a, .node-type-blog-post .pane-most-commented-articles .views-field-title a').dotdotdot({height:40,wrap:'letter'});$('.view-featured-schools-main .views-field-field-profile-overview').dotdotdot({height:70,wrap:'letter'});setTimeout(function(){$('.field-home-section-overview p').each(function(){readLess($(this),47);});},400);$('#edit-field-guide-category-tid-1').change(function(){$('#edit-submit-publication-listing').click();});$('.view-content .band').each(function(index,el){if(!$(this).find('.other').length){var cc=($(this).attr('data-reply')>0)?'<span class="other">plus '+$(this).attr('data-reply')+' others</span>':'';$(this).append(cc);}
$(this).click(function(event){$(this).find('> .other').addClass('hide');$(this).removeClass('band');});});$('.comment-reply a:not(.non-auth)').each(function(index,el){var cid=$(this).attr('href').split('/')[4];$(this).click(function(event){$('.pane-qa-forum-listing .hd-ans form').remove();$('.ans-trig').removeClass('noev');$('.comments-row').removeClass('inform');$(this).parent().closest('.comments-row').addClass('inform');});if($('.band[data-cid="'+cid+'"]').length){$(this).click(function(event){$('.band[data-cid="'+cid+'"]').find('.band').removeClass('band');$('.band[data-cid="'+cid+'"]').removeClass('band').find('.other').addClass('hide');});}});$('.comments-row, .comments-row .indented, .indented .comments-row, .indented .indented').each(function(index,el){if($(this).children().length<1){$(this).remove();}});$('.event-agenda-list .views-row').each(function(index,el){if($(this).children('.views-field').length<2){$(this).addClass('bg');}});$('.university-subject-rankings.2017 .image-text').text($('h1').text());$('.university-subject-rankings.2017 #subj-dd-wrap input').val($('h1').text());$('.university-subject-rankings.2018 .image-text').text($('.title-meth .tit').text());$('.university-subject-rankings.2018 #subj-dd-wrap input').val($('.title-meth .tit').text());var rank_year='2017';if($('.page-subject-rankings-2018, .university-subject-rankings.y2018').length){rank_year='2018';}
$("#subj-dd-wrap input").each(function(i,el){$(this).mSelectDBox({"list":[{"value":"","label":"<b>Broad subject area</b>"},{"value":"/arts-humanities","label":"Arts & Humanities"},{"value":"/engineering-technology","label":"Engineering & Technology"},{"value":"/life-sciences-medicine","label":"Life Sciences & Medicine"},{"value":"/natural-sciences","label":"Natural Sciences"},{"value":"/social-sciences-management","label":"Social Sciences"},{"value":"-","label":"<b>Specific subject</b>"},{"value":"/accounting-finance","label":"Accounting & Finance"},{"value":"/agriculture-forestry","label":"Agriculture & Forestry"},{"value":"/anatomy-physiology","label":"Anatomy & Physiology"},{"value":"/anthropology","label":"Anthropology"},{"value":"/archaeology","label":"Archaeology"},{"value":"/architecture","label":"Architecture"},{"value":"/art-design","label":"Art & Design"},{"value":"/biological-sciences","label":"Biological Sciences"},{"value":"/business-management-studies","label":"Business & Management"},{"value":"/engineering-chemical","label":"Chemical Engineering"},{"value":"/chemistry","label":"Chemistry"},{"value":"/engineering-civil-structural","label":"CiviI & Structural Engineering"},{"value":"/classics-ancient-history","label":"Classics & Ancient History"},{"value":"/communication-media-studies","label":"Communication & Media Studies"},{"value":"/computer-science-information-systems","label":"Computer Science"},{"value":"/dentistry","label":"Dentistry"},{"value":"/development-studies","label":"Development Studies"},{"value":"/earth-marine-sciences","label":"Earth & Marine Sciences"},{"value":"/economics-econometrics","label":"Economics & Econometrics"},{"value":"/education-training","label":"Education"},{"value":"/engineering-electrical-electronic","label":"Electrical & Electronic Engineering"},{"value":"/english-language-literature","label":"English Language & Literature"},{"value":"/environmental-studies","label":"Environmental Sciences"},{"value":"/geography","label":"Geography"},{"value":"/history","label":"History"},{"value":"/hospitality-leisure-management","label":"Hospitality & Leisure Management"},{"value":"/law-legal-studies","label":"Law"},{"value":"/library-information-management","label":"Library & Information Management"},{"value":"/linguistics","label":"Linguistics"},{"value":"/materials-sciences","label":"Materials Science"},{"value":"/mathematics","label":"Mathematics"},{"value":"/engineering-mechanical","label":"Mechanical, Aeronautical & Manufacturing Engineering"},{"value":"/medicine","label":"Medicine"},{"value":"/engineering-mineral-mining","label":"Mineral & Mining Engineering"},{"value":"/modern-languages","label":"Modern Languages"},{"value":"/nursing","label":"Nursing"},{"value":"/performing-arts","label":"Performing Arts"},{"value":"/pharmacy-pharmacology","label":"Pharmacy & Pharmacology"},{"value":"/philosophy","label":"Philosophy"},{"value":"/physics-astronomy","label":"Physics & Astronomy"},{"value":"/politics","label":"Politics & International Studies"},{"value":"/psychology","label":"Psychology"},{"value":"/social-policy-administration","label":"Social Policy & Administration"},{"value":"/sociology","label":"Sociology"},{"value":"/sports-related-subjects","label":"Sports-related Subjects"},{"value":"/statistics-operational-research","label":"Statistics"},{"value":"/theology-divinity-religious-studies","label":"Theology, Divinity & Religious Studies"},{"value":"/veterinary-science","label":"Veterinary Science"},],"multiple":false,"name":"s"+i,"autoComplete":true,"language":"en","optionFilters":[Drupal.behaviors.topuni.customFilter],"onselect":function(msdbContext,event){var val=$('input[data-msdb-name="s'+i+'"]').attr('data-msdb-value');if(val)window.location='/university-rankings/university-subject-rankings/'+rank_year+val;},"input:empty":function(msdbContext,event){$('input[data-msdb-name="s'+i+'"]').val('');},"focus":function(msdbContext,event){$('input[data-msdb-name="s'+i+'"]').val('').addClass('open');},"focusout":function(msdbContext,event){$('input[data-msdb-name="s'+i+'"]').removeClass('open').data("clk",null);$('.university-subject-rankings.2017 input[data-msdb-name="s'+i+'"]').val($('h1').text());$('.university-subject-rankings.2018 input[data-msdb-name="s'+i+'"]').val($('.title-meth .tit').text());},"onkeyup":function(msdbContext,event){delay(function(){var h=$('div[data-msdb-name="s'+i+'"] .m-select-d-box__list-item.m-select-d-box__list-item_hidden').length,t=$('div[data-msdb-name="s'+i+'"] .m-select-d-box__list-item').length;if((t-h)==0){$('.ranking-list').addClass('nobr');}else{$('.ranking-list').removeClass('nobr');}},601);},});$('.m-select-d-box.m-select-d-box_hidden[data-msdb-name="s'+i+'"]').appendTo($(this).parents().closest('#subj-dd-wrap'));$('#subj-dd-wrap .m-select-d-box__list-container').mCustomScrollbar({scrollInertia:0});$('input[data-msdb-name="s'+i+'"]').click(function(){var clk=$(this).data('clk');if(clk){$(this).removeClass('open').mSelectDBox().close();$('.university-subject-rankings.2017 input[data-msdb-name="s'+i+'"]').val($('h1').text());}else{$(this).addClass('open');$('.university-subject-rankings.2017 input[data-msdb-name="s'+i+'"]').val('');}
$(this).data("clk",!clk);});});var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();$('.page-node-334524 #block-block-22 .title-meth').text('Methodology');if($('body.collapsible-header').length&&$('#hero .region-hero div.block:nth-child(2)').length){$('#hero .region-hero div.block:nth-child(2)',context).after().append('<div class="read_more">Read more</div><div class="read_less hide">Read less</div>');var shgt=$('#hero-wrapper').innerHeight()-220;$('#hero .region-hero div.block:nth-child(2) .content').addClass('collapse');$('.read_more',context).click(function(){$('.read_less, .read_more').toggleClass('hide');$('#hero .region-hero div.block:nth-child(2) .content').animate({height:'toggle'},{duration:300,queue:false,});$('#main-wrapper .sidebar').animate({marginTop:'-='+shgt},{duration:300,queue:false,});});$('.read_less',context).click(function(){$('.read_less, .read_more').toggleClass('hide');$('#hero .region-hero div.block:nth-child(2) .content').animate({height:'toggle'},{duration:300,queue:false,});$('#main-wrapper .sidebar').animate({marginTop:'+='+shgt},{duration:300,queue:false,});});}
if($('body.logged-in').is('.page-node-thank-you')){setTimeout(function(){$('.publication-download a')[0].click();},2000);}
$('.hp-vid').on('shown.bs.modal',function(){return onYouTubeIframeAPIReady();}).on('hidden.bs.modal',function(){$('.hp-vid .modal-body iframe').remove();return stopVideo();});$(window).on('scroll touchstart',function(){var y=$(this).scrollTop();if($('.pane-node-author').length>0){var botom_margin=$(".pane-node-author").offset().top-$(window).height();botom_margin=botom_margin+200;};if($('.blog-social-links').length>0){var top_margin=$(".blog-social-links").offset().top-35;};if(y>top_margin&&y<botom_margin){$('.social-share-sticky').removeClass('hidden').fadeIn(1000);}else{$('.social-share-sticky').fadeOut(700);}
if(wdth<1100&&os[0]!='iPhone'){if(y>60){if(!$('body').hasClass('f-nav')){$('body').addClass("f-nav");}}else{$('body').removeClass("f-nav");}}
if(wdth<1100&&os[0]=='iPhone'){if(y>200){if(!$('body').hasClass('f-nav')){$('body').addClass("f-nav");}}else{$('body').removeClass("f-nav");}}
if($('body').is('.page-uni-profile')){if(y>56){$('body').addClass("w-nav-active");}else{$('body').removeClass("w-nav-active");}}
if($('body').is('.node-type-event.expired-no')){if(y>340){$('body').addClass("sticky-tabs-active");}else{$('body').removeClass("sticky-tabs-active");}}});if($('body').is('.front')){Drupal.behaviors.topuni.createCookie('home-search-bar',1,365);}
if($('body').is('.front')||$('body').is('.page-taxonomy-term-3638')){$.getJSON('/user/cf-ip-hom',function(response){setTimeout(function(){var region=response.reg;wgst_counts=response.wgst_event;wut_counts=response.wut_event;if(region=='usa---canada'){region='usa-canada';}
var wg_post_lnk=$('body.page-taxonomy-term-3638 .field-content-boxes .item-0 .field-cta a').attr('href');if(wgst_counts>0){$('body.page-taxonomy-term-3638 .field-content-boxes .item-0 .field-cta a').attr('href',wg_post_lnk+'/'+region);}
var wut_lnk=$('#mini-panel-home_page_events .colm-2 .box-title a').attr('href');if(wut_counts>0){$('#mini-panel-home_page_events .colm-2 .pane-content a').attr('href',wut_lnk+'/'+region);}},1000);});}
$('.ico.oneuni-comp').once().on('click',function(){$('body').addClass('shortuni-modal');$('#one-uni-bar').appendTo('body');var uninum=$('.hidden-mp').text();$('.uni-compare-bar').removeClass('hidden');if(!$('.uni-compare-bar ul.compare-listing li.fill').length){$('#one-uni-bar').modal('show');}
if($('#short-unis input[value="'+uninum+'"]').length){$('.actions input[value="'+uninum+'"]').attr('value','');}
if($('input[value="'+uninum+'"]').is(':checked')){$('input[value="'+uninum+'"]').prop('checked',false).trigger('change');}else{$('input[value="'+uninum+'"]').prop('checked',true).trigger('change');}
Drupal.behaviors.topuni.strip();return false;});if(Drupal.behaviors.topuni.readCookie('STYXKEY-comp-bar-1')!==null&&Drupal.behaviors.topuni.readCookie('STYXKEY-comp-bar-hide')!==null){$('.uni-compare-bar').css('height','0');Drupal.behaviors.topuni.datainsert();$('#short-unis input[name="uni-check"]').change(function(){if(!$(this).is(':checked')&&$('.compare-listing li.fill').length<1){$('.uni-compare-bar').css('height','0');}});}
if(Drupal.behaviors.topuni.readCookie('STYXKEY-comp-bar-1')!==null&&Drupal.behaviors.topuni.readCookie('STYXKEY-comp-bar-hide')==null){$('body').once(function(){$('.uni-compare-bar').css('height','90');var uninum=$('.hidden-mp').text();Drupal.behaviors.topuni.datainsert();if($('#short-unis input[value="'+uninum+'"]').length){$('.actions input[value="'+uninum+'"]').attr('value','');}});$('#short-unis input[name="uni-check"]').change(function(){if(!$(this).is(':checked')&&$('.compare-listing li.fill').length<1){$('.uni-compare-bar').css('height','0');}});}
$('#uni-compare-popup .close').click(function(){Drupal.behaviors.topuni.createCookie('STYXKEY-comp-bar-hide',1);});if($('body').is('.not-logged-in')){Drupal.behaviors.topuni.eraseCookie('STYXKEY-comp-bar-hide');Drupal.behaviors.topuni.eraseCookie('STYXKEY-comp-bar-1');}
$('#short-unis .lg-lnk-pop').click(function(){$('#short-unis').modal('hide');});$('#compare-unis').on('hidden.bs.modal',function(){if($('#uni-compare-popup li.fill').length>=2){$("#uni-compare-popup .compare-btn").removeClass('disabled');}});$("#uni-compare-popup .compare-btn").click(function(){$('#short-unis').modal('hide');var val=[];$('.compare-listing li.fill').each(function(i,el){var nid=$(this).find('a').attr('id');val.push(nid);});if(val.length>=2){$.ajax({type:"GET",data:'data='+val.join('+'),url:"/profile-compare/ids",success:function(result){$.getScript('/sites/all/modules/contrib/flag/theme/flag.js',function(){Drupal.behaviors.flagLink.attach(document);});$("#compare-unis .modal-body").html('<button type="button" class="close" data-dismiss="modal">X</button>'+result);$('body').addClass('modal-open');$('[data-toggle="tooltip"]').tooltip();$('.remove-uni').click(function(){var colnum=$(this).closest("td").prevAll("td").length;$(this).closest("table").find("tr").find("td:eq("+colnum+")").empty().addClass("empty-col").append('<i class="fa fa-plus-circle" aria-hidden="true"></i>');});$('.view-rankings-compare-page .flag-save-content a.flag-action').click(function(){var $html='<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button> Your University has been saved to your User profile.</div>';$('.flag-msg').html($html);setTimeout(function(){$('.flag-msg').fadeOut(1000,function(){$('.flag-msg .close').click();});},3000);});var nid=($('.hidden-mp').text().length)?$('.hidden-mp').text():$('.hidden-nid').text();$('#compare-unis .views-field-nothing .leadgen-link').each(function(i){if($(this).attr('href').indexOf(nid)!=-1&&$('.actions .disabled.lead-sent').length){$(this).replaceWith('<a class="same-uni" href="#">Learn more</a>');$('#compare-unis a.same-uni').click(function(){$('#header').append('<div id="messages"> <div class="alert alert-success alert-dismissable"><button type="button" class="close"data-dismiss="alert"aria-hidden="true"></button><ul><li>Your details have already been sent!</li></ul></div></div>');});}else if($(this).attr('href').indexOf(nid)!=-1&&$('.actions .lg-btn').length){$(this).replaceWith('<a href="#leadgen" class="lg-btn" data-toggle="modal">Learn more</a>');}});$('#compare-unis .view_node .lg-btn').click(function(){$('#compare-unis').modal('hide');});$("#uni-compare-popup .compare-btn").addClass('disabled');},});}});$('#one-uni-bar').once().on('shown.bs.modal',function(){$('#one-uni-bar:not("uni-compare-popup")').unbind().click(function(e){$('#one-uni-bar').modal('hide');window.open("/universities","_blank");});});if(!$('body').is('.logged-in, .panel-layout-qs_events, .section-events, .page-node-register')&&Drupal.behaviors.topuni.readCookie('cookie-agreed')==2&&Drupal.behaviors.topuni.readCookie('SIGNUP-promo')!='yes'){$('.signup-promo').removeClass('off');$('.signup-promo').addClass('on');}else{$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');}
$('.signup-promo a.signup-promo-btn').click(function(){$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');});$('.signup-promo button.no-thanks-btn').click(function(){$('.signup-promo').removeClass('on');$('.signup-promo').addClass('off');Drupal.behaviors.topuni.createCookie('SIGNUP-promo','yes',365);});var timer;$('#main-menu li.leaf').hover(function(){var $this=$(this);clearTimeout(timer);$('#main-menu li.leaf .menu-attach-block-wrapper').removeClass('stick');$this.find('.menu-attach-block-wrapper').addClass('stick');},function(){var $this=$(this);clearTimeout(timer);timer=setTimeout(function(){$this.find('.menu-attach-block-wrapper').removeClass('stick');},10000);});$("#profile_search").click(function(){$('#profile_search_dropdown').toggle();$(this).toggleClass('open');});$('html').click(function(e){var target=e.target;var reg_form_dropdown=$("#reg-form-dropdown");var login_form_dropdown=$("#login_form_dropdown");if(!$(target).is('.user_login_btn  > .fa-user')){if(!$(target).is('.join_now > .btn-orrange')){if(!$(target).is('#reg-form-dropdown')&&reg_form_dropdown.has(e.target).length===0){if(!$(target).is('#login_form_dropdown')&&login_form_dropdown.has(e.target).length===0){$('#reg-form-dropdown').addClass('hidden');$('#login_form_dropdown').addClass('hidden');}}}}
if($('#uov').hasClass('bg-overlay')){$('#reg-form-dropdown').addClass('hidden');$('#login_form_dropdown').addClass('hidden');$('.social_login_btns').addClass('hidden');$('.user_profile_links').addClass('hidden');$('.social_share').removeClass('on');$('.btn-group').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('#uov').removeClass('bg-overlay ac');}});$(".nav_search_btn").once().click(function(){$(this).toggleClass('on');$('.nav-search').toggleClass('hidden');$('.social_login_btns, #login_form_dropdown, #reg-form-dropdown, .user_profile_links').addClass('hidden');$('.nav-search').removeClass('show');});$(".social_share").once().click(function(){$(this).toggleClass('on');$('.social_login_btns').toggleClass('hidden');$('.nav-search, #login_form_dropdown, #reg-form-dropdown, .user_profile_links').addClass('hidden');});$(".icons_nav .btn-group").once().click(function(){$(this).toggleClass('on');$('.user_profile_links').toggleClass('hidden');$('.nav-search, .social_login_btns').addClass('hidden');});$(".user_login_btn").unbind('click').bind('click',function(e){$(this).toggleClass('on');$('#login_form_dropdown').toggleClass('hidden');$('#login_form_dropdown').removeClass('hide');$('.nav-search, .social_login_btns, #reg-form-dropdown').addClass('hidden');if($(this).hasClass('on')&&$('#uov').hasClass('bg-overlay')){$('#uov').addClass('bg-overlay');}else{$('#uov').removeClass('bg-overlay');}
if($('html').hasClass('iPhone')){$('html, body').animate({scrollTop:$('body').offset().top},100);}});$('.comment-share .comment-reply a.non-auth').click(function(e){$('.alert').remove();$('.re-email').clearQueue().stop();$('.re-email').addClass('hidden');$(this).closest('.comment-share').find('.re-email').removeClass('hidden').fadeIn('slow').delay(10000).fadeOut('slow');return false;});$(".pane-node-comment-form .form-type-textarea textarea.non-auth, .ans-box.non-auth").click(function(){$('.alert').remove();$('.re-email').clearQueue().stop();$('.re-email').addClass('hidden');$('.pane-node-comment-form .re-email').removeClass('hidden').fadeIn('slow').delay(10000).fadeOut('slow');return false;});$(".re-email .close").click(function(){$('.re-email').clearQueue().stop();$(this).parent().addClass('hidden');return false;});$('.ans-box.auth').click(function(){$(this).hide();$('.comment-form.collapse').removeClass('collapse');});$('.cross').click(function(){$('.ans-box.auth').show();$('.comment-form').addClass('collapse');});$(".comment-section .form-textarea.not-logged-in, .reg_form_2 ").click(function(){$(".top_nav .reg_form_btn").toggleClass('on');$('#reg-form-dropdown').removeClass('hide');$('#reg-form-dropdown').toggleClass('hidden');$('.nav-search, .social_login_btns, #login_form_dropdown').addClass('hidden');return false;});$('.pane-newsletter-signup .views-field-field-newsletter-button a.reg_form_btn').click(function(){$('#edit-field-source input').attr('value','TOPUNI-newsletter');});if($('body').is('.page-qa-forum')){$('#user-register-form input.form-submit').on('click',function(){$('#edit-field-source input').attr('value','TOPUNI-forum');});}
if($('body').is('.node-type-ranking-set-release')){$('#rankings-compare-popup .compare-btns a.compare-btn').on('click',function(){$('#edit-field-source input').attr('value','TOPUNI-rankingcompare');});}
if($('body').is('.page-student-info-qs-guides')){$('.view-publication-listing .pub-content-box .pub-register a.reg_form_btn').on('click',function(){var source=this.lastElementChild.innerText;if(source.length>0){$('#edit-field-source input').attr('value',source);}else{$('#edit-field-source input').attr('value','TOPUNI-guide');}});}
if($('body').is('.node-type-publications')){$('.pub-register a.reg_form_btn').on('click',function(){if($('.pane-node-field-source').length>0){var source=$('.pane-node-field-source .field-source').text().trim();source='-'+source;$('#edit-field-source input').attr('value','TOPUNI-guide'+source);}else{$('#edit-field-source input').attr('value','TOPUNI-guide');}});}
$(".reg_form_btn, .not-logged-in .menu-links a.question-sign, .not-logged-in .pane-node-comment-form .form-type-textarea textarea, body.not-logged-in .shortlist",context).click(function(){$('.reg_form_btn').toggleClass('on');$('.social_share').removeClass('on');$('.user_login_btn').removeClass('on');$('.nav_search_btn').removeClass('on');$('#reg-form-dropdown').removeClass('hide');$('#reg-form-dropdown').toggleClass('hidden')
$('.nav-search, .social_login_btns, #login_form_dropdown').addClass('hidden');if($('html').hasClass('iPhone')){$('html, body').animate({scrollTop:$('body').offset().top},100);}
return false;});$(".already-mem a").click(function(){$('.top_nav .user_login_btn').addClass('on');$('#login_form_dropdown').removeClass('hidden');$('#login_form_dropdown').removeClass('hide');$('.reg_form_btn').removeClass('on');$('#reg-form-dropdown').addClass('hidden');$('#uov').toggleClass('bg-overlay');return false;});$(".login-overlay a").click(function(){$('.top_nav .user_login_btn').addClass('on');$('.top_nav .reg_form_btn').removeClass('on');$('#reg-form-dropdown').addClass('hide');$('#login_form_dropdown').removeClass('hidden');$('#login_form_dropdown').removeClass('hide');});$(".join_now a").click(function(){$('.reg_form_btn').addClass('on');$('.top_nav .user_login_btn').removeClass('on');$('#reg-form-dropdown').removeClass('hidden');$('#reg-form-dropdown').removeClass('hide');$('#login_form_dropdown').addClass('hide');});$(".nav_search_btn").on('mouseover',function(){$('.social_login_btns, #login_form_dropdown, #reg-form-dropdown, .user_profile_links').addClass('hidden');$('.social_share').removeClass('on');$('.btn-group').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('#header .nav-search').addClass('show');$('.nav_search_btn').addClass('on');});$("#header .nav-search").on('mouseleave',function(){$('#header .nav-search').removeClass('show');if($('#header .nav-search').hasClass('hidden')){$('.nav_search_btn').removeClass('on');}});$(".social_share").on('mouseover',function(){$('.nav-search, #login_form_dropdown, #reg-form-dropdown, .user_profile_links').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.btn-group').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('.nav-search').removeClass('show');});$(".btn-group").on('mouseover',function(){$('.nav-search, .social_login_btns').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.nav-search').removeClass('show');});$(".user_login_btn").on('mouseover',function(){$('.nav-search, .social_login_btns, #reg-form-dropdown').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.social_share').removeClass('on');$('.reg_form_btn').removeClass('on');$('.nav-search').removeClass('show');});$(".top_nav .reg_form_btn").on('mouseover',function(){$('.nav-search, #login_form_dropdown, .social_login_btns').addClass('hidden');$('.user_login_btn').removeClass('on');$('.nav_search_btn').removeClass('on');$('.social_share').removeClass('on');$('.nav-search').removeClass('show');});$(".nav-search").click(function(){$(this).removeClass('hidden');$('.nav_search_btn').addClass('on');});$("#login_form_dropdown").click(function(){$(this).removeClass('hidden');});$("#reg-form-dropdown").click(function(){$(this).removeClass('hidden');});$(".join_btns > .reg_form_btn").click(function(){$('.top_nav .reg_form_btn').addClass('on');});$('#main-menu li a').on('mouseover',function(){$('body').addClass('nav-search-hide');$('body').removeClass('nav-search-show');$('#header .nav-search, .social_login_btns, #login_form_dropdown, #reg-form-dropdown, .user_profile_links').addClass('hidden');$('.nav_search_btn').removeClass('on');$('.user_login_btn').removeClass('on');$('.reg_form_btn').removeClass('on');$('.social_share').removeClass('on');$('.btn-group').removeClass('on');$('.nav-search').removeClass('show');});windowHeight=$(window).innerHeight();$('#mm-mmenu_left').css('min-height',windowHeight);$('#mm-0').remove();$('#mm-1').addClass('mm-opened mm-current').removeClass('mm-hidden');$('.mmenu-mm-list-level-2 > .mm-subtitle').prepend('<div class="back-button"><a href="#mm-1">Back</a></div>');$('.mm-subtitle .mm-subclose ').attr('href','javascript:void(0)');$('#mm-1 .mm-subtitle > a.mm-subclose').remove();$('.user-logout-mob, .user-register-mob').appendTo('#mm-1 > .mm-subtitle');$('.studies-mob').appendTo('#mm-mmenu_left');$('.navbar-header > a').on('click',function(){$('html').toggleClass('mm-opened mm-front mm-basic mm-opening');});$('.navmenu-fixed-left .mobile-tablet').removeClass('invisible');if($('#form-rep form').length){tinymce.on('AddEditor',function(e){e.editor.on('focus',function(){$('#form-rep').addClass('in');});e.editor.on('blur',function(){$('#form-rep').removeClass('in');});e.editor.on('KeyUp',function(){if(tinymce.activeEditor.getContent().length){if($('#form-rep input[value="Answer"]').prop('disabled')){$('#form-rep input[value="Answer"]').removeAttr('disabled');}}else{if(!$('#form-rep input[value="Answer"]').prop('disabled')){$('#form-rep input[value="Answer"]').prop('disabled','disabled');}}});});}
if($('#edit-description').length){tinymce.on('AddEditor',function(e){e.editor.on('focus',function(){$('#edit-description').addClass('in');});e.editor.on('blur',function(){$('#edit-description').removeClass('in');});});}
$('.voting .animat').each(function(){$(this).click(function(event){var af=$(this);af.find('a').trigger('focus');setTimeout(function(){af.find('a').trigger('click');},1500);});});$('.like .animat').each(function(){$(this).click(function(event){var af=$(this);af.find('i').addClass('likeup');setTimeout(function(){af.find('a').trigger('click');},1500);});});$('.comment-link').each(function(index,el){var a=$(this);a.find('.ans-trig').click(function(event){$('.pane-qa-forum-listing .hd-ans form, form.ajax-comments-form-reply').remove();$('.ans-trig').removeClass('noev');$(this).addClass('noev');a.find('.hd-ans a').trigger('click');a.removeClass('no-comment');return false;});});$('#'+Drupal.settings.autofocus+' textarea').trigger('focus');setTimeout(function(){if(window.location.hash&&$('.not-logged-in.page-node-register').length>0){var hash=window.location.hash.split('#')[1];switch(hash){case 'login':$('a[aria-controls="ulogin"]').tab('show');break;}}},1);$('.why-attend').click(function(){$('html, body').animate({scrollTop:$('.pane-node-field-why-attend h4.pane-title').offset().top-100},500);});$('.event-agenda').click(function(){$('html, body').animate({scrollTop:$('.pane-event-agenda h4.pane-title').offset().top-100},500);});$('.event-faqs').click(function(){$('html, body').animate({scrollTop:$('.pane-node-field-contact-admissions-faq h4.pane-title').offset().top-100},500);});var event_prompt=$('.event-prompt .pane-content').html();if(event_prompt){$('.event-prompt').remove();$('#header').after(event_prompt);switch(window.location.pathname.split('/')[2]){case 'qs-world-university-tour':$('.event-full-prompt .col-2 div span').text('Answer 2 additional questions to');break;case 'qs-world-grad-school-tour':$('.event-full-prompt .col-2 div span').text('Answer 5 additional questions to');break;case 'qs-connect-masters-fame':case 'qs-connect-masters-law':case 'qs-connect-masters-stem':$('.event-full-prompt .col-2 div span').text('Answer 4 additional questions to');break;}}
if($('.media-partner-logos .view-content').length>-1){var items=$('.media-partner-logos .view-content .views-row').length;if(wdth<767){var divs=$(".media-partner-logos .views-row");for(var i=0;i<divs.length;i+=3){divs.slice(i,i+3).wrapAll("<div class='mp-mb'></div>");}}
if(items>6){$('.media-partner-logos .view-content').addClass('owl-carousel');var owl=$('.owl-carousel');owl.owlCarousel({loop:true,margin:17,nav:true,autoplay:true,autoplayTimeout:3000,autoWidth:true,});}else{$('.media-partner-logos .view-content').addClass('all-shown');}}
if($('body').is('.node-type-event')){var event_tour=$('.pane-node-field-event-tour .pane-content').html();$('.sticky-tabs .event-tour').html(event_tour);var event_logo=$('.view-tour-logo .view-content .views-row').html();$('.sticky-tabs .event-logo').html(event_logo);var event_city=$('.pane-event-city-logo .pane-content').html();$('.sticky-tabs .event-city-img').html(event_city);var event_title=$('.pane-node-title .pane-content').html();$('.sticky-tabs .event-title').html(event_title);var event_dtime=$('.pane-node-field-event-date .pane-content').html();$('.sticky-tabs .event-dt-time').html(event_dtime);var event_loc=$('.view-event-listing-home .view-content').html();$('.sticky-tabs .event-loc').html(event_loc);var event_reg=$('.pane-node-field-external-register-url .pane-content').html();$('.sticky-tabs .event-ct-btn').html(event_reg);$('.sticky-tabs .event-ct-btn a').text($('body.node-type-event .field-event-custom-reg-label').text());}
if($('body').is('.node-type-event')||$('body').is('.node-type-regional-landing')){$('body').addClass('gal-'+$('#galleria-src .item').length);$('#galleria-src').owlCarousel({margin:10,nav:true,autoplay:false,video:true,autoWidth:true,dots:false,responsive:{0:{items:2},767:{items:7},11:{items:7}}});$("a[rel^='prettyPhoto']").prettyPhoto({iframe_markup:'<iframe src ="{path}&amp;wmode=transparent&amp;showinfo=0" width="{width}" height="{height}" frameborder="no"></iframe>',gallery_markup:'',social_tools:false,allow_resize:false,default_width:728,default_height:410,deeplinking:false,overlay_gallery:false,changepicturecallback:function(){setupSwipe();},callback:function(){$('body').removeClass('modal-open');}});function setupSwipe(){$('body').addClass('modal-open');$('.pp_pic_holder').swipe({swipe:function(event,direction,distance,duration,fingerCount){if(direction=='left'){$.prettyPhoto.changePage('next');}else if(direction=='right'){$.prettyPhoto.changePage('previous');}},allowPageScroll:"none",});}}
if($('body').is('.page-universities-university-finder')&&$('#galleria-src .item').length>0){$('body').addClass('gal-'+$('#galleria-src .item').length);$('#galleria-src').owlCarousel({margin:10,nav:true,autoplay:false,video:true,autoWidth:true,dots:false,responsive:{0:{items:2},767:{items:7},11:{items:7}}});$("a[rel^='prettyPhoto']").prettyPhoto({iframe_markup:'<iframe src ="{path}&amp;wmode=transparent&amp;showinfo=0" width="{width}" height="{height}" frameborder="no"></iframe>',gallery_markup:'',social_tools:false,allow_resize:false,default_width:728,default_height:410,deeplinking:false,overlay_gallery:false,});}
if($('body').is('.page-uni-profile')&&(($('#galleria-src .item').length>0)||($('#galleria-src-3 .item').length>0))){$('#galleria-src, #galleria-src-1, #galleria-src-2, #galleria-src-3',context).each(function(i,el){var owl=$(this).owlCarousel({nav:true,autoplay:false,video:true,autoWidth:true,dots:false,responsive:{0:{items:1,margin:12},750:{items:2,margin:20}}});owl.on('changed.owl.carousel',function(e){var i=$(this).find('.owl-stage .item').length;setTimeout(function(){if(i==3){$('.owl-next').removeClass('disabled');}
if(i<=2){var $id='#'+e.target.id;$($id+' .owl-nav').remove();}},100);if(wdth<605){var $id='#'+e.target.id;var $count=(e.item.count-1);var $ind=e.item.index;var $gap=(320-wdth);if($count==$ind){$($id+' .owl-stage').css('right',$gap);}else{$($id+' .owl-stage').css('right','0');}}
if(wdth<750&&wdth>629){var $id='#'+e.target.id;var $count=(e.item.count-2);var $ind=e.item.index;var $gap=(630-wdth);if($count==$ind){$($id+' .owl-stage').css('right',$gap);}else{$($id+' .owl-stage').css('right','0');}}});owl.on('dragged.owl.carousel',function(e){var $id='#'+e.target.id;var $dir=e.relatedTarget['_drag']['direction'];if($dir=='right'){$($id).find('.owl-stage-outer').removeClass('magic');}else{$($id).find('.owl-stage-outer').addClass('magic');}
var i=$($id).find('.owl-stage .item').length;if(i==3){$($id).find('.owl-prev').removeClass('disabled');$($id).find('.owl-next').addClass('disabled');}});owl.find('.owl-next').click(function(event){owl.find('.owl-stage-outer').addClass('magic');var i=$(this).closest('.galleria-scr').find('.owl-stage .item').length;if(i==3){$(this).closest('.galleria-scr').find('.owl-prev').removeClass('disabled');$(this).closest('.galleria-scr').find('.owl-next').addClass('disabled');}});owl.find('.owl-prev').click(function(event){owl.find('.owl-stage-outer').removeClass('magic');var i=$(this).closest('.galleria-scr').find('.owl-stage .item').length;if(i==3){$(this).closest('.galleria-scr').find('.owl-next').removeClass('disabled');$(this).closest('.galleria-scr').find('.owl-prev').addClass('disabled');}});owl.find('.owl-item a').click(function(){gallery_id=$(this).closest('.galleria-scr').attr('id');});});$("a[rel^='prettyPhoto']").prettyPhoto({iframe_markup:'<iframe src ="{path}&amp;wmode=transparent&amp;showinfo=0" width="{width}" height="{height}" frameborder="no"></iframe>',gallery_markup:'',social_tools:false,allow_resize:false,default_width:728,default_height:410,deeplinking:false,overlay_gallery:false,autoplay:true,counter_separator_label:'/',changepicturecallback:onPictureChanged,callback:function(){$('body').removeClass('modal-open');}});function onPictureChanged(){$('body').addClass('modal-open');var pager=$('.currentTextHolder').text().split('/');var first=pager[0];var last=pager[1];if(first==1&&last==1){$('.pp_hoverContainer').remove();}
if(($('#'+gallery_id+' .owl-item:eq('+(first-1)+') .vid a').attr('href'))){var yurl=$('#'+gallery_id+' .owl-item:eq('+(first-1)+') .vid a').attr('href').split('=');if(yurl[0].indexOf('youtube.com')>-1){$('#pp_full_res').prepend('<div id="new-iframe"></div>');$('.pp_content_container iframe').remove();div_id='new-iframe';vid_id=yurl[1];div_id=new YT.Player(div_id,{videoId:vid_id,playerVars:{'autoplay':1,'enablejsapi':1},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});}else if(yurl[0].indexOf('vimeo.com')>-1){$('#pp_full_res').prepend('<div id="new-iframe"></div>');$('.pp_content_container iframe').remove();var vurl=$('#'+gallery_id+' .owl-item:eq('+(first-1)+') .vid a').attr('href').split('/')[3];var options={id:vurl,autoplay:true};$.getScript('https://player.vimeo.com/api/player.js',function(){var player=new Vimeo.Player('new-iframe',options);setTimeout(function(){player.play()},750)});}}}
$('.watch-video',context).click(function(){$('#galleria-src-1 .item:eq(0) a').click();});}
$('input[type="text"]').each(function(index,el){if($(this).val()){$(this).addClass('y');}else{$(this).removeClass('y');}
$(this).keyup(function(event){if($(this).val()){$(this).addClass('y');}else{$(this).removeClass('y');}});});$('#edit-field-erg-1 input, #edit-erg1 input').change(function(){if($(this).val()=='0'){$('[name="field_erg_2[und]"], [name="erg2"]').prop('checked',false).trigger('change');}
jcf.refresh('[name="field_erg_2[und]"]');jcf.refresh('[name="erg2"]');});$('.graduate-employability-ranking #hero .view-subject-rankings-collapsible-header .join_btns').remove();$('.resources-widget-ranking-page #urlSelect').change(function(){var url=window.location.protocol+'//'+window.location.host+$(this).val();window.location=url;});$('.page-user-reset #user-profile-form .form-submit').attr('value','Save and log in');if($('form#user-profile-form').length>0){$('.page-user-reset #user-profile-form .form-type-password-confirm input').on('keyup',function(){if($(this).val().length>0){$(this).addClass('y');}else{$(this).removeClass('y');}});}
$('#uni-compare-popup button.close',context).click(function(){$('#uni-compare-popup').css({height:0,border:'none'});});$('#short-unis,#compare-unis',context).on('hidden.bs.modal',function(e){}).on('shown.bs.modal',function(e){$('body').addClass('shortuni-modal');if($('#short-unis .view-empty').length){$('#short-unis').addClass('no-uni');}else{$('#short-unis').removeClass('no-uni');}
var shlen=5;if(wdth<768){shlen=2;}
var len=shlen+1;if($('.view-shortlist .view-content .views-row').length>len){$('#short-unis .item-list').remove();$('.view-shortlist .view-content .views-row:gt('+shlen+')').addClass('hide');$('.view-shortlist .view-content').after('<div class="item-list"><ul class="pager pager-load-more"><li class="pager-next"><a href="#" data-limit="'+len+'">MORE</a></li></ul></div>');$('#short-unis .item-list a').click(function(e){e.preventDefault();var ind=$(this).data('limit');$('.view-shortlist .view-content .views-row:lt('+(shlen+ind+1)+')').removeClass('hide');$(this).data('limit',shlen+ind+1);if($('.view-shortlist .view-content .views-row').length<(shlen+ind+1)){$('#short-unis .item-list').remove();}});}});if($('#short-unis .view-empty').length){$('#short-unis').addClass('no-uni');}else{$('#short-unis').removeClass('no-uni');}
$('#compare-unis').on('hidden.bs.modal',function(e){$('#compare-unis .view-rankings-compare-page').remove();$('body').css('padding-right','0');});$('#compare-unis').on('shown.bs.modal',function(e){$('body').addClass('modal-open');$('[data-toggle="tooltip"]').tooltip();$('.remove-uni').click(function(){var colnum=$(this).closest("td").prevAll("td").length;$(this).closest("table").find("tr").find("td:eq("+colnum+")").remove();});});$('[data-toggle="tooltip"]',context).tooltip({trigger:'hover'});if(wdth<1100){var isOS=/iPad|iPhone|iPod/.test(navigator.platform);if(isOS){$('body').css('cursor','pointer');}
$('body').on('click touchstart',function(e){$('[data-toggle="popover"]').each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&$('.popover').has(e.target).length===0){$(this).popover('hide');}});$('[data-toggle="tooltip"]').each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&$('.tooltip').has(e.target).length===0){}});});}
$(document).on('click mousedown keyup','.dropdown',function(e){e.stopPropagation();});$('.pane-webform-client-block-4 .webform-component-email input').on('keyup',function(){var valid=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(this.value);if(valid){$('.pane-webform-client-block-4 .messages').remove();}});if($('body').hasClass('node-type-event')){var furl=window.location.href;var nodeId=getCurrentNodeId();if(nodeId){Drupal.behaviors.topuni.createCookie('STYXKEY-cb-'+nodeId,furl,30);}}},customFilter:function(inputString,optionString){var pattern=new RegExp("^"+inputString.trim(),"ig");optionString=String(optionString);Drupal.behaviors.topuni.inpstr=inputString;return Boolean(optionString.match(pattern));},createCookie:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+"; path=/";},readCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;},eraseCookie:function(name){Drupal.behaviors.topuni.createCookie(name,"",-1);},inpstr:function(){return '';},unicomp:function(){var val=[];var wdth=$(window).width();var count=4;var $h=90;if(wdth<961){count=2;}
if(wdth<751){$h=236;}
$('#uni-compare-popup ul.compare-listing li img').attr('src','');$('#uni-compare-popup ul.compare-listing li .name-pro').text('');$('#uni-compare-popup ul.compare-listing li').removeClass('fill');$('.views-row').removeClass('active');$('#uni-compare-popup').css({height:0,border:'none'});$.each($("input[name='uni-check']:checked"),function(i,v){var $nid=$(this).val();var $row=$('#n-'+$nid);var $li=$('#uni-compare-popup li:eq('+i+')');if($row.length){$li.find('.name-pro').text($row.find('h4').text());wrapLine(20);$li.find('.logo-pro').attr('src',$row.find('img').attr('src'));}else{$li.find('.name-pro').text($('.title_info h1').text());wrapLine(20);$li.find('.logo-pro').attr('src',$('.logo_area .field-profile-logo img').attr('src'));}
$li.find('.rem').attr('id',$nid);$li.addClass('fill');$('.views-row.n-'+$nid).addClass('active');$('#uni-compare-popup').css({height:$h,border:'solid 1px #bdbdbd'});val.push($nid);});if(val.length==count){$("input[name='uni-check']:not(:checked)").prop('disabled',true);}
if(val.length<count){$("input[name='uni-check']:not(:checked)").prop('disabled',false);}
if(val.length<2){$('.compare-btn').addClass('disabled');}else{$('.compare-btn').removeClass('disabled');}
jcf.refresh("input[name='uni-check']");Drupal.behaviors.topuni.strip();},clear:function(){$('#uni-compare-popup ul.compare-listing li img').attr('src','');$('#uni-compare-popup ul.compare-listing li a').attr('id','');$('#uni-compare-popup ul.compare-listing li .name-pro').text('');$('.views-row').removeClass('active');$("input[name='uni-check']").prop({disabled:false,checked:false,});jcf.refresh("input[name='uni-check']");$('#uni-compare-popup ul.compare-listing li').removeClass('fill');$('.compare-btn').addClass('disabled');},del:function(nid){$('input[value="'+nid+'"]').prop('checked',false);Drupal.behaviors.topuni.unicomp();if($('#uni-compare-popup ul.compare-listing li.fill').length==0){Drupal.behaviors.topuni.eraseCookie('STYXKEY-comp-bar-1');}
return false;},strip:function(){var vals=[];$('.compare-listing li.fill').each(function(i,el){var nid=$(this).find('a').attr('id');var img_src=$(this).find('img').attr('src').replace(location.origin,'').replace('/sites/default/files','');var title_txt=$(this).find('.name-pro').html().replace(/,/g,'');vals.push(nid+'--'+img_src+'--'+title_txt);Drupal.behaviors.topuni.createCookie('STYXKEY-comp-bar-1',vals);});Drupal.behaviors.topuni.eraseCookie('STYXKEY-comp-bar-hide');$('#short-unis input[name="uni-check"]').change(function(){if(!$(this).is(':checked')&&$('.compare-listing li.fill').length<1){$('.uni-compare-bar').css('height','0');}});},datainsert:function(){var cval=Drupal.behaviors.topuni.readCookie('STYXKEY-comp-bar-1');if(cval!==null){var uninum=$('.hidden-mp').text();var cnid=cval.split(',');$.each(cnid,function(i,val){var val=val.split('--');if($('#short-unis input[value="'+val[0]+'"]').length){$('.actions input[value="'+val[0]+'"]').attr('value','');}
$('#uni-compare-popup li:eq('+i+')').addClass('fill');$('#uni-compare-popup li:eq('+i+') a').attr('id',val[0]);$('#uni-compare-popup li:eq('+i+') img').attr('src','/sites/default/files'+val[1]);$('#uni-compare-popup li:eq('+i+') .name-pro').html(val[2]);$('input[value="'+val[0]+'"]').prop('checked',true);jcf.refresh("input[name='uni-check']");if($('#uni-compare-popup li.fill').length<2){$('.compare-btn').addClass('disabled');}else{$('.compare-btn').removeClass('disabled');}
if(!$('input[value="'+val[0]+'"]').length){$('#short-unis .view-header').append('<div class="wrap hide" id="n-'+val[0]+'"><input onchange="return Drupal.behaviors.topuni.unicomp()" name="uni-check" class="uni-check no-jcf" value="'+val[0]+'" type="checkbox" checked="checked"><h4>'+val[2]+'</h4><img typeof="foaf:Image" src="/sites/default/files'+val[1]+'"></div>');}
if($('body').is('.section-events')||$('body').is('.event-overview-page')||$('body').is('.page-node-register')||$('body').is('.page-node-register-full')){$('.uni-compare-bar').css('height','0');}});}},close:function(){$('button.close').trigger('click');return false;},reg:function(){setTimeout(function(){$('.top_nav .reg_form_btn').trigger('click');},100);return false;},};function getParameterByName(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return '';return decodeURIComponent(results[2].replace(/\+/g," "));}
function getCurrentNodeId(){var $body=$('body.page-node');if(!$body.length)
return false;var bodyClasses=$body.attr('class').split(/\s+/);for(i in bodyClasses){var c=bodyClasses[i];if(c.length>10&&c.substring(0,10)==="page-node-")
return parseInt(c.substring(10),10);}
return false;}
function readLess(target,h){var $dot5=$(target);$dot5.append(' <a class="toggle more_link" href="#"><span class="open"> Read more</span><span class="less"> Read less</span></a>');function createDots(){$dot5.dotdotdot({after:'a.toggle',height:h,wrap:'letter'});}
function destroyDots(){$dot5.trigger('destroy');}
createDots();$dot5.on('click','a.toggle',function(){$dot5.toggleClass('opened');if($dot5.hasClass('opened')){destroyDots();}else{createDots();}
return false;});}
var pid=getParameterByName('partnerid');if(pid&&pid.length>0){Drupal.behaviors.topuni.createCookie('STYXKEY-pid',pid,4);}
var div_id;function onYouTubeIframeAPIReady(){var div_src=$('.hp-vid.in').attr('data-src');vid_id=div_src.replace('https://www.youtube.com/embed/','');div_id=$('.hp-vid.in .modal-body').children().attr('id');div_id=new YT.Player(div_id,{videoId:vid_id,playerVars:{'autoplay':1,'enablejsapi':1},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});$('.hp-vid.in .modal-body').prepend('<div id="'+div_id.a.id+'"></div>');}
function onPlayerReady(event){event.target.playVideo();}
var done=false;function onPlayerStateChange(event){if(event.data==YT.PlayerState.PLAYING&&!done){done=false;}else{done=true;}}
function stopVideo(){div_id.stopVideo();div_id.clearVideo();}
function autohg(el,m){var oh=parseInt(window.getComputedStyle(el).height,10);var diff=oh-el.clientHeight;el.style.height=0;el.style.height=Math.max(m,el.scrollHeight+diff)+'px';}
function wrapLine(characterPerLine){$("#uni-compare-popup .name-pro").each(function(index,value){var university_name_compare=$(this).html();var length=university_name_compare.length;if(length>characterPerLine&&!(university_name_compare.indexOf('<br>')>-1)){var trimed_string=university_name_compare.substring(0,characterPerLine);var index=trimed_string.lastIndexOf(' ');var second_line=university_name_compare.substr(index+1)
if(second_line.length>characterPerLine){second_line=second_line.substring(0,characterPerLine-3);var second_line_index=second_line.lastIndexOf(' ');second_line=second_line.substr(0,second_line_index)+'...';}
var trimmed_university_name=university_name_compare.substr(0,index)+'<br>'+second_line;$(this).html(trimmed_university_name);}});}
$(document).bind('flagGlobalAfterLinkUpdate',function(event,data){setTimeout(function(){if(data.flagName=='shortlist'&&data.flagStatus=='flagged'){$('#short-unis').modal('show');$('.save-pro .flag-save-content a.flag-action').trigger('click');var $html='<div id="messages"><div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button> Your University has been saved to your User profile.</div></div>';$('#main-wrapper').before($html);$("#messages").fadeOut(3000,function(){$('#messages .close').click();});Drupal.behaviors.topuni.clear();setTimeout(function(){Drupal.behaviors.topuni.datainsert();},500);}
if(data.flagName=='shortlist'&&data.flagStatus=='unflagged'){var nid=data.contentId;$.ajax({type:"GET",url:"/qs-user-profiles/delete-flag",data:'dnid='+encodeURI(nid),success:function(){Drupal.behaviors.topuni.datainsert();setTimeout(function(){$('.actions .uni-check').val(data.contentId);},1000);}});}
setTimeout(function(){if($('.view-shortlist .view-content').length==0){$('.top_nav .navbar-default .short-uni a').removeClass('red');}else{$('.top_nav .navbar-default .short-uni a').addClass('red');}},1000);},500);});$(window).load(function(){if($.browser.chrome==true){$('input:-webkit-autofill').each(function(){if($(this).val().length!==""){$(this).addClass('y');}});}
var wdth=$(window).width();if(wdth>1100){if($('.node-type-ranking-set-release').length&&!$('.panel-layout-qs_collapse_header').length){if($('.sidebar').innerHeight()>$('.main_contents').innerHeight()){$('.main_contents').css('min-height',$('.sidebar').innerHeight());}}
if($('.panel-layout-qs_collapse_header').length>0){$('.site_contents').css('min-height',($('.sidebar').innerHeight()-220));$('.sidebar').css('min-height',($('.site_contents').innerHeight()+200));}
$(".node-type-ranking-set-release .pane-dfp-site-wide-desktop-mpu-2, .sticky-block").stick_in_parent({offset_top:110,parent:'.region-content',spacer:false,});}
if(wdth>1100){var os=95;if($('#navbar-administration').length){os=110;}
$(".page-search-site #solr-search-panel .col-md-4.panel-first").stick_in_parent({offset_top:os,parent:'#main-wrapper'});}
if(wdth>767&&wdth<1100){if($('#solr-search-panel .col-md-4.panel-second').innerHeight()>$('#solr-search-panel .col-md-4.panel-first').innerHeight()){$('.page-search-site #solr-search-panel .col-md-4.panel-first').height($('.col-md-4.panel-second').innerHeight());var os=95;if($('#navbar-administration').length){os=110;}
$(".page-search-site #solr-search-panel .col-md-4.panel-first .panel-panel-inner").stick_in_parent({offset_top:os,parent:'.col-md-4.panel-first'});}}
$(".pane-event-participating-schools-regional-list .view-content:eq(1), .pane-event-participating-schools .view-content:eq(1)").accordion({header:".views-field-field-location",heightStyle:"content",collapsible:true,active:false});if(window.location.hash!=''){var str=window.location.hash;if(str.indexOf('comment')>0){$('.indented .indented .indented li.comment-reply').remove();var id=window.location.hash;$(id).parents('.indented').removeClass('band').find('.other').addClass('hide');$(id).next('div.comment').find('.comment-reply a').click();}}
$.getJSON('/user/ru-ip',function(response){switch(response){case 'RU':case 'UA':case 'KZ':$('li.vki, li.gpi').toggleClass('hide');break;}});if($('body').hasClass('page-rankings-compare')){$.getJSON('/ranking/compare-save',function(response){if(response==1){Drupal.behaviors.topuni.eraseCookie('STYXKEY-compare-save');}});}
$('.social-logins a').on('click mouseenter',function(){var dest=window.location.pathname;if(dest){Drupal.behaviors.topuni.createCookie('STYXKEY-destination',dest,0.0069);}});if(window.location.pathname=='/social-connect/password-update'&&$('form#pwd-update-form').length>0){$('#pwd-update-form input#edit-fb-conn').on('keyup',function(){if($(this).val().length>0){$(this).addClass('y');}});}
if(Drupal.settings.googleanalytics){if(($('body.not-logged-in .event-registration').length>0)){ga('send','pageview',window.location.pathname+window.location.hash);}
$('body.not-logged-in .pane-qs-event-reg-new-1 .nav-tabs li:eq(0)').click(function(){ga('send','pageview',window.location.pathname+'#register');});$('body.not-logged-in .pane-qs-event-reg-new-1 .nav-tabs li:eq(1)').click(function(){ga('send','pageview',window.location.pathname+'#login');});}
$(".event-full-prompt").slideDown({duration:1000});$('.later-reg a').click(function(){$(".event-full-prompt").slideUp({duration:1000});return false;});});if(document.URL.indexOf("/search/site/")!=-1){if(window.history&&window.history.pushState){$(window).on('popstate',function(){var hashLocation=location.hash;var hashSplit=hashLocation.split("#!/");var hashName=hashSplit[1];if(hashName!==''){var hash=window.location.hash;if(hash===''){var referrer=document.referrer;window.location=referrer;return false;}}});window.history.pushState('forward',null,'#f');}}
Drupal.behaviors.ctools_backdrop_close={attach:function(context,settings){$('#modalContent').once('ctools_backdrop_close',function(){$('div.popups-container, div.pane-qs-reg-pane, div.ctools-modal-dialog').click(function(e){e.stopPropagation();});$('#modalContent').click(function(e){Drupal.CTools.Modal.dismiss();});});}}})(jQuery);;!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(e){"use strict";var t="1.2.3",s=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,o=/Windows Phone/.test(navigator.userAgent);i.isMobileDevice=!(!n&&!o);var l=function(){var t=e("<style>").appendTo("head"),s=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,i){i=i||0,s.insertRule?s.insertRule(e+"{"+t+"}",i):s.addRule(e,t,i)};n("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+i.rtlClass+" ."+i.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),l=e("body");("rtl"===o.css("direction")||"rtl"===l.css("direction"))&&o.addClass(i.rtlClass),o.on("reset",function(){setTimeout(function(){a.refreshAll()},0)}),i.styleSheetCreated=!0};!function(){var t,s=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={},o="jcf-";t=s?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},e.each(t,function(t,s){e.each(s.split(" "),function(e,s){n[s]=t})}),e.each(t,function(t,s){s=s.split(" "),e.event.special[o+t]={setup:function(){var t=this;e.each(s,function(e,s){t.addEventListener?t.addEventListener(s,a,!1):t["on"+s]=a})},teardown:function(){var t=this;e.each(s,function(e,s){t.addEventListener?t.removeEventListener(s,a,!1):t["on"+s]=null})}}});var l=null,r=function(e){var t=Math.abs(e.pageX-l.x),s=Math.abs(e.pageY-l.y),i=25;return i>=t&&i>=s?!0:void 0},a=function(t){var s=t||window.event,i=null,a=n[s.type];if(t=e.event.fix(s),t.type=o+a,s.pointerType)switch(s.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=s.pointerType}else t.pointerType=s.type.substr(0,5);return t.pageX||t.pageY||(i=s.changedTouches?s.changedTouches[0]:s,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===s.type&&(l={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&l&&r(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),s="jcf-mousewheel";e.event.special[s]={setup:function(){var s=this;e.each(t,function(e,t){s.addEventListener?s.addEventListener(t,i,!1):s["on"+t]=i})},teardown:function(){var s=this;e.each(t,function(e,t){s.addEventListener?s.removeEventListener(t,i,!1):s["on"+t]=null})}};var i=function(t){var i=t||window.event;if(t=e.event.fix(i),t.type=s,"detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){var n=16;t.delta*=n,t.deltaY*=n,t.deltaX*=n}return(e.event.dispatch||e.event.handle).call(this,t)}}();var r={fireNativeEvent:function(t,s){e(t).each(function(){var e,t=this;t.dispatchEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(s,!0,!0),t.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.target=t,t.fireEvent("on"+s,e))})},bindHandlers:function(){var t=this;e.each(t,function(s,i){0===s.indexOf("on")&&e.isFunction(i)&&(t[s]=function(){return i.apply(t,arguments)})})}},a={version:t,modules:{},getOptions:function(){return e.extend({},i)},setOptions:function(t,s){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,s):e.extend(i,t)},addModule:function(t){e.isFunction(t)&&(t=t(e,window));var n=function(t){t.element.data(i.dataKey)||t.element.data(i.dataKey,this),s.push(this),this.options=e.extend({},i,this.options,o(t.element),t),this.bindHandlers(),this.init.apply(this,arguments)},o=function(t){var s=t.data(i.optionsKey),n=t.attr(i.optionsKey);if(s)return s;if(n)try{return e.parseJSON(n)}catch(o){}};n.prototype=t,e.extend(t,r),t.plugins&&e.each(t.plugins,function(t,s){e.extend(s.prototype,r)});var l=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=s.length-1;e>=0;e--)if(s[e]===this){s.splice(e,1);break}l&&l.apply(this,arguments)},this.modules[t.name]=n},getInstance:function(t){return e(t).data(i.dataKey)},replace:function(t,s,n){var o,r=this;return i.styleSheetCreated||l(),e(t).each(function(){var t,l=e(this);o=l.data(i.dataKey),o?o.refresh():(s||e.each(r.modules,function(e,t){return t.prototype.matchElement.call(t.prototype,l)?(s=e,!1):void 0}),s&&(t=e.extend({element:l},n),o=new r.modules[s](t)))}),o},refresh:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})},destroy:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.destroy()})},replaceAll:function(t){var s=this;e.each(this.modules,function(i,n){e(n.prototype.selector,t).each(function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,i)})})},refreshAll:function(t){if(t)e.each(this.modules,function(s,n){e(n.prototype.selector,t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})});else for(var n=s.length-1;n>=0;n--)s[n].refresh()},destroyAll:function(t){if(t)e.each(this.modules,function(s,n){e(n.prototype.selector,t).each(function(t,s){var n=e(s).data(i.dataKey);n&&n.destroy()})});else for(;s.length;)s[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=a),a}),function(e){e.addModule(function(e,t){"use strict";function s(t){this.options=e.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},t),this.init()}var i={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:s},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=e(document),this.win=e(t),this.realElement=e(this.options.element),this.scrollWrapper=e(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var e=this;this.vBar=new s({holder:this.scrollWrapper,vertical:!0,onScroll:function(t){e.realElement.scrollTop(t)}}),this.hBar=new s({holder:this.scrollWrapper,vertical:!1,onScroll:function(t){e.realElement.scrollLeft(t)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){e(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){var t,s,i=this.verticalScrollActive,n=this.horizontalScrollActive;"touch"===e.pointerType&&(t=this.touchData.scrollTop-e.pageY+this.touchData.top,s=this.touchData.scrollLeft-e.pageX+this.touchData.left,this.verticalScrollActive&&(0>t||t>this.vBar.maxValue)&&(i=!1),this.horizontalScrollActive&&(0>s||s>this.hBar.maxValue)&&(n=!1),this.realElement.scrollTop(t),this.realElement.scrollLeft(s),i||n?e.preventDefault():this.onReleaseBody(e))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,s,i,n=this.realElement.scrollTop(),o=this.realElement.scrollLeft(),l=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,r=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&e.deltaY&&(0>=n&&e.deltaY<0||n>=l&&e.deltaY>0||(i=!0)),this.horizontalScrollActive&&e.deltaX&&(0>=o&&e.deltaX<0||o>=r&&e.deltaX>0||(i=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(i||this.options.alwaysPreventMouseWheel)&&(e.preventDefault(),t=e.deltaX/100*this.options.mouseWheelStep,s=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(n+s),this.realElement.scrollLeft(o+t))},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,s,i;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),i=parseFloat(t.width),s=parseFloat(t.height),this.embeddedDimensions&&i&&s&&(this.isModifiedStyles|=i!==this.embeddedDimensions.width||s!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(t){var s,i=this.vBar.getThickness(),n=this.hBar.getThickness(),o=this.realElement.outerWidth()-this.realElement.width(),l=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,s={innerWidth:t.width-i,innerHeight:t.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-o,height:t.height-l}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),s={innerWidth:t.width-(this.verticalScrollActive?i:0),innerHeight:t.height-(this.horizontalScrollActive?n:0)}),e.extend(s,{width:s.innerWidth-o,height:s.innerHeight-l}),s},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var e,t;this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,t=this.realElement.prop("scrollWidth"),t===e&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var s="";this.verticalScrollActive&&this.horizontalScrollActive?s="none":this.verticalScrollActive?s="pan-x":this.horizontalScrollActive&&(s="pan-y"),this.realElement.css("touchAction",s)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};return e.extend(s.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=e(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=e(this.options.holder),this.scrollbar=e(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t,s;"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive||(this.slider.is(e.currentTarget)?(t=this.handle.offset()[this.offsetProperty]>e[this.offsetEventProperty]?-1:1,s=e[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(t,s)):(t=this.btnDec.is(e.currentTarget)?-1:1,this.startSmoothScrolling(t)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(e,t){var s=this,i=e*s.currentSize,n=function(){var i=s.value/s.maxValue*(s.currentSliderSize-s.handleSize);return e>0?i+s.handleSize>=t:t>=i},o=function(){s.value+=i,s.setValue(s.value),s.triggerScrollEvent(s.value),n()&&clearInterval(s.pageScrollTimer)};this.pageScrollTimer=setInterval(o,this.options.scrollInterval),o()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(e){var s,i=this;this.stopSmoothScrolling();var n=t.requestAnimationFrame||function(e){setTimeout(e,16)},o=function(){return Date.now?Date.now():(new Date).getTime()},l=function(){return e>0?i.value>=i.maxValue:i.value<=0},r=function(){var t=(o()-s)/1e3*i.options.scrollStep;i.smoothScrollActive&&(i.value+=t*e,i.setValue(i.value),i.triggerScrollEvent(i.value),l()||(s=o(),n(r)))};i.smoothScrollActive=!0,s=o(),n(r)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),s=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-s,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),i})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refresh()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})}(jcf),function(e){e.addModule(function(t,s){"use strict";function i(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function o(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var l={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:o},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){var e=this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n;e?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(s),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),a(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){var s=!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length;s||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var s=t(e.target),i=s.closest(this.fakeElement).length||s.closest(this.dropdown).length;i||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),a(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new o({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,s,i=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),o=n.width||n.right-n.left,l=this.fakeElement.outerHeight(),r=this.dropdown.css("width",o).outerHeight(),a=this.win.scrollTop(),h=this.win.height(),c=!1;i.top+l+r>a+h&&i.top-r>a&&(c=!0),this.options.fakeDropInBody&&(s="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&c?(t=i.left,e=i.top-r-s):(t=i.left,e=i.top+l-s),this.dropdown.css({width:o,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&c)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,s=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[s],n=i?i.getAttribute("data-image"):null,o="",l=this;this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),function(e,t){t.selected&&(o+=(o?", ":"")+t.innerHTML)}),o||(o=l.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(o)):i?(this.currentSelectedText!==i.innerHTML||this.currentSelectedImage!==n)&&(e=r(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),a(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new o({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout(function(){e.refresh(),e.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(o.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var s,i=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[i].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[i].selected=!this.realOptions[i].selected:e.shiftKey?(s=[this.lastClickedIndex,i].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=s[0]&&e<=s[1]})):this.element.prop("selectedIndex",i):this.element.prop("selectedIndex",i),e.shiftKey||(this.lastClickedIndex=i),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var s=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var n=this.options.maxVisibleItems,o=this.element.prop("size");o>1&&!this.element.is("[jcf-size]")&&(n=o);var l=this.fakeOptions.length>n;return this.container.toggleClass(this.options.scrollClass,l),l&&(this.listHolder.css({maxHeight:this.getOverflowHeight(n),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?void e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(0>=t&&e.deltaY<0||t>=i&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var e,t=this,s=this.element.prop("multiple"),i=this.element.prop("selectedIndex");s?this.realOptions.each(function(e,s){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!s.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(i).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each(function(t,s){s.selected&&e.push(t)}),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),s=this,i=!1,n=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,function(e,t){!i&&s.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),n=t)}),this.previousSelection=this.currentSelection,n):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),s=this.listHolder.prop("scrollTop"),i=this.fakeOptions.eq(e),n=i.offset().top-this.list.offset().top,o=i.innerHeight();return n+o>=s+t?n-t+o:s>n?n:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),s=this.list.offset().top,i=t.offset().top,n=t.innerHeight();return i+n-s},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var s,i=e.getAttribute("data-image");return i&&(s=document.createElement("img"),s.src=i,t.insertBefore(s,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+r(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,s,i=document.createElement("span"),n=e.getAttribute("label");return t=document.createElement("span"),t.className=this.options.captionClass,t.innerHTML=n,i.appendChild(t),e.children.length&&(s=this.createOptionsList(e),i.appendChild(s)),i.className=this.options.groupClass,i},createOptionContainer:function(){var e=document.createElement("li");return e},createOptionsList:function(e){var s=this,i=document.createElement("ul");return t.each(e.children,function(e,t){var n,o=s.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=s.createOption(t);break;case"optgroup":n=s.createOptGroup(t)}i.appendChild(o).appendChild(n)}),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var r=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},a=function(){function t(e){e.preventDefault()}var s=e.getOptions().unselectableClass;return function(e){e.addClass(s).on("selectstart",t)}}();return l})}(jcf),function(e){e.addModule(function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refreshRadioGroup()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each(function(){e.refresh(this)})},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}})}(jcf);/*!
* JavaScript Custom Forms : Range Module
*
* Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
* Released under the MIT license (LICENSE.txt)
*
* Version: 1.2.3
*/!function(e){e.addModule(function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,s=[],a=this.realElement.attr("list");a&&(e("#"+a).find("option").each(function(){var a,i,n=parseFloat(this.value||this.innerHTML);isNaN(n)||(i=t.valueToOffset(n),s.push({value:n,offset:i}),a=e(t.options.dataListMark).text(n).attr({"data-mark-value":n}).css(t.offsetProperty,i+"%").appendTo(t.track))}),s.length&&(t.dataValues=s))},getDragHandleRange:function(e){var t=-(1/0),s=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(s=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:s}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var s=this.handles.eq(0),a=1/0,i=this;return this.handleCount>1&&this.handles.each(function(){var n=parseFloat(this.style[i.offsetProperty])/100,r=Math.abs(n-t);a>r&&(a=r,s=e(this))}),s},onTrackPress:function(e){var t,s,a;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),s=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-s)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),a=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:a,trackOffset:s,min:s,max:s+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var s,a,i;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),s=this.track[this.sizeMethod](),a=this.track.offset()[this.directionProperty],i=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:s,innerOffset:i,trackOffset:a,min:a,max:a+s},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var s,a,i,n,r,h=this;if(s=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset,s<this.dragData.min?s=this.dragData.min:s>this.dragData.max&&(s=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var l=s-this.dragData.trackOffset;a=(s-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,function(e,t){var s=t.offset/100*h.dragData.trackSize,i=s-h.options.snapRadius,n=s+h.options.snapRadius;return l>=i&&n>=l?(a=t.offset,!1):void 0})}else a=(s-this.dragData.trackOffset)/this.dragData.trackSize*100;i=Math.round(a*this.stepsCount/100),this.handleCount>1&&(r=this.getDragHandleRange(this.activeDragHandleIndex),i<r.minStepIndex?i=Math.max(r.minStepIndex,i):i>r.maxStepIndex&&(i=Math.min(r.maxStepIndex,i))),n=i*(100/this.stepsCount),this.dragData.stepIndex!==i&&(this.dragData.stepIndex=i,this.dragData.offset=n,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(i),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,s=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(s||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each(function(e,s){var a,i;e>0&&(a=t.handles[e-1],i=t.rangeMid[e-1],i.style[t.offsetProperty]=a.style[t.offsetProperty],i.style[t.sizeProperty]=parseFloat(s.style[t.offsetProperty])-parseFloat(a.style[t.offsetProperty])+"%")})},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),s=t,a=this.minValue,i=this.maxValue;isNaN(t)&&(s=0),s+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(a=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(i=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),s>i?s=i:a>s&&(s=a),s!==t&&(this.values[this.activeDragHandleIndex||0]=""+s,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue,s=(e-this.minValue)/t;return 100*s},getSliderValue:function(){return e.map(this.values,function(e){return parseFloat(e)||0})},setSliderValue:function(e){var t=this;this.handles.each(function(s,a){a.style[t.offsetProperty]=t.valueToOffset(e[s])+"%"})},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})}(jcf);;(function(){var b,f;b=this.jQuery||window.jQuery;f=b(window);b.fn.stick_in_parent=function(d){var A,w,J,n,B,K,p,q,k,E,t;null==d&&(d={});t=d.sticky_class;B=d.inner_scrolling;E=d.recalc_every;k=d.parent;q=d.offset_top;p=d.spacer;w=d.bottoming;null==q&&(q=0);null==k&&(k=void 0);null==B&&(B=!0);null==t&&(t="is_stuck");A=b(document);null==w&&(w=!0);J=function(a,d,n,C,F,u,r,G){var v,H,m,D,I,c,g,x,y,z,h,l;if(!a.data("sticky_kit")){a.data("sticky_kit",!0);I=A.height();g=a.parent();null!=k&&(g=g.closest(k));if(!g.length)throw"failed to find stick parent";v=m=!1;(h=null!=p?p&&a.closest(p):b("<div />"))&&h.css("position",a.css("position"));x=function(){var c,f,e;if(!G&&(I=A.height(),c=parseInt(g.css("border-top-width"),10),f=parseInt(g.css("padding-top"),10),d=parseInt(g.css("padding-bottom"),10),n=g.offset().top+c+f,C=g.height(),m&&(v=m=!1,null==p&&(a.insertAfter(h),h.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(t),e=!0),F=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-q,u=a.outerHeight(!0),r=a.css("float"),h&&h.css({width:a.outerWidth(!0),height:u,display:a.css("display"),"vertical-align":a.css("vertical-align"),"float":r}),e))return l()};x();if(u!==C)return D=void 0,c=q,z=E,l=function(){var b,l,e,k;if(!G&&(e=!1,null!=z&&(--z,0>=z&&(z=E,x(),e=!0)),e||A.height()===I||x(),e=f.scrollTop(),null!=D&&(l=e-D),D=e,m?(w&&(k=e+u+c>C+n,v&&!k&&(v=!1,a.css({position:"fixed",bottom:"",top:c}).trigger("sticky_kit:unbottom"))),e<F&&(m=!1,c=q,null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.detach()),b={position:"",width:"",top:""},a.css(b).removeClass(t).trigger("sticky_kit:unstick")),B&&(b=f.height(),u+q>b&&!v&&(c-=l,c=Math.max(b-u,c),c=Math.min(q,c),m&&a.css({top:c+"px"})))):e>F&&(m=!0,b={position:"fixed",top:c},b.width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(b).addClass(t),null==p&&(a.after(h),"left"!==r&&"right"!==r||h.append(a)),a.trigger("sticky_kit:stick")),m&&w&&(null==k&&(k=e+u+c>C+n),!v&&k)))return v=!0,"static"===g.css("position")&&g.css({position:"relative"}),a.css({position:"absolute",bottom:d,top:"auto"}).trigger("sticky_kit:bottom")},y=function(){x();return l()},H=function(){G=!0;f.off("touchmove",l);f.off("scroll",l);f.off("resize",y);b(document.body).off("sticky_kit:recalc",y);a.off("sticky_kit:detach",H);a.removeData("sticky_kit");a.css({position:"",bottom:"",top:"",width:""});g.position("position","");if(m)return null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.remove()),a.removeClass(t)},f.on("touchmove",l),f.on("scroll",l),f.on("resize",y),b(document.body).on("sticky_kit:recalc",y),a.on("sticky_kit:detach",H),setTimeout(l,0)}};n=0;for(K=this.length;n<K;n++)d=this[n],J(b(d));return this}}).call(this);;!function(t,e){"use strict";function n(t,e,n){var r=t.children(),a=!1;t.empty();for(var i=0,d=r.length;i<d;i++){var l=r.eq(i);if(t.append(l),n&&t.append(n),o(t,e)){l.remove(),a=!0;break}n&&n.detach()}return a}function r(e,n,i,d,l){var s=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var h=this,f=t(h);if("undefined"==typeof h)return!0;if(f.is(u))e.append(f);else{if(s)return!0;e.append(f),!l||f.is(d.after)||f.find(d.after).length||e[e.is(c)?"after":"append"](l),o(i,d)&&(s=3==h.nodeType?a(f,n,i,d,l):r(f,n,i,d,l)),s||l&&l.detach()}}),n.addClass("is-truncated"),s}function a(e,n,r,a,d){var c=e[0];if(!c)return!1;var h=s(c),f=h.indexOf(" ")!==-1?" ":"",p="letter"==a.wrap?"":f,g=h.split(p),v=-1,w=-1,m=0,b=g.length-1;if(a.fallbackToLetter&&0===m&&0===b&&(p="",g=h.split(p),b=g.length-1),a.maxLength)h=i(h.trim().substr(0,a.maxLength),a),l(c,h);else{for(;m<=b&&(0!==m||0!==b);){var y=Math.floor((m+b)/2);if(y==w)break;w=y,l(c,g.slice(0,w+1).join(p)+a.ellipsis),r.children().each(function(){t(this).toggle().toggle()}),o(r,a)?(b=w,a.fallbackToLetter&&0===m&&0===b&&(p="",g=g[0].split(p),v=-1,w=-1,m=0,b=g.length-1)):(v=w,m=w)}if(v==-1||1===g.length&&0===g[0].length){var x=e.parent();e.detach();var C=d&&d.closest(x).length?d.length:0;if(x.contents().length>C?c=u(x.contents().eq(-1-C),n):(c=u(x,n,!0),C||x.detach()),c&&(h=i(s(c),a),l(c,h),C&&d)){var T=d.parent();t(c).parent().append(d),t.trim(T.html())||T.remove()}}else h=i(g.slice(0,v+1).join(p),a),l(c,h)}return!0}function o(t,e){return t.innerHeight()>e.maxHeight||e.maxLength&&t.text().trim().length>e.maxLength}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function s(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var a,o=e&&e[0];if(o){if(!r){if(3===o.nodeType)return o;if(t.trim(e.text()))return u(e.contents().last(),n)}for(a=c(o);!a;){if(e=e.parent(),e.is(n)||!e.length)return!1;a=c(e[0])}if(a)return u(t(a),n)}return!1}function h(e,n){return!!e&&("string"==typeof e?(e=t(e,n),!!e.length&&e):!!e.jquery&&e)}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,a=n.length;r<a;r++){var o=parseInt(t.css(n[r]),10);isNaN(o)&&(o=0),e-=o}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0===this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var a=this,i=a.contents();a.data("dotdotdot")&&a.trigger("destroy.dot"),a.data("dotdotdot-style",a.attr("style")||""),a.css("word-wrap","break-word"),"nowrap"===a.css("white-space")&&a.css("white-space","normal"),a.bind_events=function(){return a.bind("update.dot",function(e,d){switch(a.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(a[0]);break;default:l.maxHeight=f(a)}l.maxHeight+=l.tolerance,"undefined"!=typeof d&&(("string"==typeof d||"nodeType"in d&&1===d.nodeType)&&(d=t("<div />").append(d).contents()),d instanceof t&&(i=d)),g=a.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(i.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return s.afterElement&&(c=s.afterElement.clone(!0),c.show(),s.afterElement.detach()),o(g,l)&&(u="children"==l.wrap?n(g,l,c):r(g,a,g,l,c)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(a[0],u,i),s.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],s.isTruncated),s.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],i),i}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),a.unwatch().unbind_events().contents().detach().end().append(i).attr("style",a.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),a},a.unbind_events=function(){return a.unbind(".dot"),a},a.watch=function(){if(a.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+s.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){a.trigger("update.dot")},100))})}else c=d(a),u=setInterval(function(){if(a.is(":visible")){var t=d(a);c.width==t.width&&c.height==t.height||(a.trigger("update.dot"),c=t)}},500);return a},a.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),a};var l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=h(l.after,a),s.isTruncated=!1,s.dotId=p++,a.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&a.watch(),a},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,maxLength:null},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var p=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):v.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(t){t(".dot-ellipsis").each(function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),r=0,a=t(this).attr("class").split(/\s+/);t.each(a,function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(r=Number(n[1]))});var o={};n&&(o.watch=!0),e&&(o.watch="window"),r>0&&(o.height=r),t(this).dotdotdot(o)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});;/*!jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license*/jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);;